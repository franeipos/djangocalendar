{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6 rounded bg-white p-3">
        <h1 class="text-center mb-3">
        {% if event.type == 1 %}
             Actualizar Evento
        {% elif event.type == 2 %}
            Actualizar Mes
        {% elif event.type == 3 %}
            Actualizar Estación
        {% elif event.type == 4 %}
            Actualizar Tiempo
        {% endif %}
        </h1>
        <p>
            {{form.errors}}
        </p>
        <form action="." method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <input name="title" type="text" placeholder="Nombre" class="form-control my-3" required maxlength="200" value="{{ event.title }}">
            <input name="description" type="text" placeholder="Descripción" class="form-control my-3" value="{{ event.description }}">

            {% if event.type == 1 %}
                <input name="date" type="date" placeholder="Seleccione una fecha" class="form-control my-3" value="{{ event.date|date:'Y-m-d' }}" required>
            {% else %}
                <input name="date" type="month" placeholder="Seleccione una fecha" class="form-control my-3" value="{{ event.date|date:'Y-m' }}" required>
            {% endif %}

            {% if event.image %}
                <img src="{{event.image.url }}" width="200px" height="200px">
                <p class="mt-3">
                    <input type="checkbox" name="image-clear" id="image-clear_id">
                    <label for="image-clear"> Eliminar imagen</label>
                </p>
            {% endif %}

            <input name="image" type="file"  accept="image/*" class="form-control my-3">
            <input name="patient_calendar" type="number"  class="form-control my-3" value="{{event.patient_calendar.id}}" required hidden>
            <input name="type" type="number" class="form-control my-2" value="{{event.type}}" required hidden>
            <input type="submit" name="submit" value="Actualizar" class="btn btn-outline-primary my-3">
            <a class="btn btn-outline-danger" href="{% url 'event-detail' event.id %}">Cancelar</a>
        </form>
    </div>

</div>

{% endblock content %}